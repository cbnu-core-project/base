{"ast":null,"code":"var _jsxFileName = \"/Users/hwang-yulim/Documents/GitHub/base/src/pages/Login.jsx\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { baseUrl } from \"../common/global\";\nimport { useState } from \"react\";\nimport setAuthorization from \"../utils/setAuthorizationToken\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\naxios.defaults.baseURL = baseUrl;\nexport default function Login() {\n  _s();\n  const [message, setMessage] = useState(\"\");\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          console.log(\"클릭?\");\n          const form_data = {\n            username: e.target.username.value,\n            password: e.target.password.value\n          };\n          console.log(form_data);\n          axios.post(\"/api/login\", form_data, {\n            headers: {\n              \"content-type\": \"application/x-www-form-urlencoded\"\n            }\n          }).then(res => {\n            const {\n              access_token\n            } = res.data;\n            setMessage(\"로그인 성공!\" + access_token);\n            localStorage.setItem(\"access_token\", access_token);\n            setAuthorization(access_token);\n          }).catch(err => {\n            console.log(err.response.data.detail);\n            setMessage(err.response.data.detail);\n          });\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"border\",\n            type: \"text\",\n            name: \"username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"border\",\n            type: \"password\",\n            name: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"border\",\n          children: \"\\uC81C\\uCD9C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            axios.get(\"/protected\").then(res => {\n              setMessage(\"로그인 되어있네\" + res.data);\n            }).catch(err => {\n              setMessage(err.response.data.detail);\n              console.log(err.response.data.detail);\n            });\n          },\n          children: \"\\uD604\\uC7AC \\uB85C\\uADF8\\uC778 \\uB418\\uC5B4\\uC788\\uB098? \\uC11C\\uBC84\\uC5D0 \\uD655\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(Login, \"EiOGSxO4GWQlH0sM782nQ9JwuAs=\");\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["axios","baseUrl","useState","setAuthorization","jsxDEV","_jsxDEV","Fragment","_Fragment","defaults","baseURL","Login","_s","message","setMessage","children","onSubmit","e","preventDefault","console","log","form_data","username","target","value","password","post","headers","then","res","access_token","data","localStorage","setItem","catch","err","response","detail","className","type","name","fileName","_jsxFileName","lineNumber","columnNumber","onClick","get","_c","$RefreshReg$"],"sources":["/Users/hwang-yulim/Documents/GitHub/base/src/pages/Login.jsx"],"sourcesContent":["import axios from \"axios\";\nimport { baseUrl } from \"../common/global\";\nimport { useState } from \"react\";\nimport setAuthorization from \"../utils/setAuthorizationToken\";\n\naxios.defaults.baseURL = baseUrl;\n\nexport default function Login() {\n  const [message, setMessage] = useState(\"\");\n\n  return (\n    <>\n      <div>\n        <form\n          onSubmit={(e) => {\n            e.preventDefault();\n            console.log(\"클릭?\");\n\n            const form_data = {\n              username: e.target.username.value,\n              password: e.target.password.value,\n            };\n            console.log(form_data);\n            axios\n              .post(\"/api/login\", form_data, {\n                headers: {\n                  \"content-type\": \"application/x-www-form-urlencoded\",\n                },\n              })\n              .then((res) => {\n                const { access_token } = res.data;\n                setMessage(\"로그인 성공!\" + access_token);\n                localStorage.setItem(\"access_token\", access_token);\n                setAuthorization(access_token);\n              })\n              .catch((err) => {\n                console.log(err.response.data.detail);\n                setMessage(err.response.data.detail);\n              });\n          }}\n        >\n          <div>\n            <input className={\"border\"} type=\"text\" name=\"username\" />\n          </div>\n          <div>\n            <input className={\"border\"} type=\"password\" name=\"password\" />\n          </div>\n          <div>{message}</div>\n          <button type={\"submit\"} className={\"border\"}>\n            제출\n          </button>\n        </form>\n        <div>\n          <button\n            onClick={() => {\n              axios\n                .get(\"/protected\")\n                .then((res) => {\n                  setMessage(\"로그인 되어있네\" + res.data);\n                })\n                .catch((err) => {\n                  setMessage(err.response.data.detail);\n                  console.log(err.response.data.detail);\n                });\n            }}\n          >\n            현재 로그인 되어있나? 서버에 확인\n          </button>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}